<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Recipes</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Calistoga&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/static/app.css">
  <script type="module" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.3.2/chart.min.js"></script>
  <link rel="shortcut icon" href="/static/favicon.ico">
</head>

<body class="">
  <div class="main-container">
    <div class="container my-3">
      <header>
        <nav class="navbar navbar-expand-lg navbar-light ">
          <div class="container-fluid">

            <a class="navbar-brand" href="/">
              <span class="logo">chowtime</span>
            </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
              aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
              <ul class="navbar-nav">
                

                {% if g.user %}
                <a class="nav-link" href="/home">My Recipes</a>

                <div class="btn-group align-items-center">
                  <div class="d-flex align-items-center profile-group" data-bs-toggle="dropdown" aria-expanded="false">
                    <p class="profile-username">{{g.user.username}}</p>
                    <img src="{{g.user.image_url}}" class="rounded-circle profile-image" width="45px"
                      alt="profile image">
                  </div>

                  <ul class="dropdown-menu dropdown-menu-end">

                    <li><a href="/profile" class="dropdown-item">My Profile</a></li>
                    <li> <a href="/logout" type="button" class="dropdown-item">Logout</a></li>
                  </ul>
                </div>

                {% else %}

                <!-- Login/Signup Buttons -->
                <!-- Button trigger modal -->
                <button type="button" class="btn btn-outline-primary mx-2" data-bs-toggle="modal"
                  data-bs-target="#login" id="header-login-btn">
                  Login
                </button>

                <!-- Button trigger modal -->
                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#login" id="header-signup-btn">
                  Sign Up
                </button>


                <!-- Login Modal -->
                <div class="modal fade" id="login" data-bs-keyboard="false" tabindex="-1"
                  aria-labelledby="staticBackdropLabel" aria-hidden="true">
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  <div class="modal-dialog modal-dialog-centered modal-lg">
                    <div class="modal-content">
                     
                      <div class="modal-body">

                        {% include 'includes/login_signup.html' %}


                      </div>
                     
                    </div>
                  </div>
                </div>
                <!-- END Login Modal -->

                {% endif %}


              </ul>
            </div>
          </div>
        </nav>
      </header>

    </div>


    <div class="container">
      {% for category, message in get_flashed_messages(with_categories=True) %}
      <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">{{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>

      {% endfor %}

    </div>


    {% block content %}
    {% endblock %}


    <footer class="footer">
      <p class="footer-logo text-center">chowtime</p>
      <p class="footer-copyright">&copy; 2021 chowtime, All rights reserved.</p>

    </footer>
  </div>
  <!--END of Main Container-->

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
  <script src="https://unpkg.com/axios/dist/axios.js"></script>

  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>
  <script src="/static/app.js"></script>
  <script src="/static/recipeCharts.js"></script>


</body>

</html>



